import{u as j,o as S,a as N,r as w,b,c as v,d as I,j as e,L as l,I as c,B as y,S as k,A as E,e as C,f as d,s as q}from"./index-CUcKbUvm.js";import{O as F}from"./OAuth-FYGpekOm.js";const P=C({email:d().email().required(),password:d().required()});function B(){const{register:t,handleSubmit:m,formState:{errors:n}}=j({resolver:S(P)}),u=N(),[a,x]=w.useState(null),p=b(s=>s.setUserInfo),g=v(),i=I({mutationFn:s=>q(s),onSuccess:s=>{p(s),g.invalidateQueries("user"),u("/")},onError:s=>{var o;x(((o=s==null?void 0:s.response)==null?void 0:o.data)||s)}}),{isPending:r,isError:h}=i,f=s=>{i.mutate(s)};return e.jsx("div",{className:"min-h-screen mt-20",children:e.jsxs("div",{className:"flex p-3 max-w-3xl mx-auto flex-col md:flex-row md:items-center gap-5",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs(l,{to:"/",className:"whitespace-nowrap text-4xl font-bold dark:text-white",children:[e.jsxs("span",{className:"px-2 py-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-600 rounded-lg text-white",children:["CapuchinoJT","'","s"]})," ",e.jsx("span",{className:"text-black",children:"Blog"})]}),e.jsx("p",{className:"text-sm mt-5",children:"This is a demo project. You can sign up with your email and password or with Google."})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("form",{className:"flex flex-col gap-4",onSubmit:m(f),children:[e.jsx(c,{id:"email",label:"Your Email",type:"text",registerControl:t("email"),errors:n}),e.jsx(c,{id:"password",label:"Your Password",type:"password",registerControl:t("password"),errors:n}),e.jsx(y,{gradientDuoTone:"purpleToPink",type:"submit",disabled:r,children:r?e.jsxs(e.Fragment,{children:[e.jsx(k,{size:"sm"}),e.jsx("span",{className:"pl-3",children:"Loading..."})]}):"Sign Up"}),e.jsx(F,{}),h&&e.jsxs(E,{color:"failure",className:"items-center text-center",children:[e.jsx("span",{className:"font-bold",children:"Sign-up failed."})," ",a!=null&&a.message?a.message:"Please check your details."]})]}),e.jsxs("div",{className:"flex gap-2 text-sm mt-5",children:[e.jsx("span",{children:"Have an account?"}),e.jsx(l,{to:"/sign-in",className:"text-blue-500",children:"Sign In"})]})]})]})})}export{B as default};
